---
title: 'Server-side integration'
description: 'Learn how to set up endpoints and request handlers'
---

## The basics

Consuming an API often means that you're making RESTful requests to endpoints hosted by a public platform.

Here, your existing web server is the host. Your front end makes standard HTTP requests to the web server,  which processes them using request handlers provided by OwnID. 

It's those request handlers that provide the gateway for exchanging keys and data between your front end and your identity management services. 

Three endpoints support all the login and registration scenarios:

- Login

- register

- forgotPassword

## Integration overview

Below are the major steps required to integrate with the OwnID API. 

<Steps>
  <Step title="PREPARATION">
    **1. Setup your account** - Get your App Id and establish your base URL from the Console.   
    **2. Add a field for OwnID data to your users table** - OwndId data requires a varchar field in your database, with a minimum of 4000 characters.
  </Step>
  <Step title="DROP IN SERVER-SIDE END-POINTS">
    **1. Install API Request Handlers** - Take our sample code for API request handlers and drop it into your web server.  
    **2. Adjust handler parameters** - Adjust parameters for each request handler.  
  </Step>
  <Step title="INSERT API REQUESTS IN YOUR FRONT END">
    **1. Build login workflow** - Drop in our HTML and JavaScript samples to build the login workflow.  
    **2. Build registration workflow** - Drop in our HTML and JavaScript samples to build the registration workflow.

  </Step>
  
</Steps>


## Login workflow

Referencing the `loginId` input

Placing the widget next to the password field 
Login widget
<img
  src="/images/oi_widget.png"
  alt="Widget"
/>


(side-by-side)
Handling password-toggle or password-label elements
Showing errors in your login form

``` javascript
ownid('login', {
          loginIdField: 
          document.getElementById('username'),
          passwordField: 
          document.getElementById('password'),
     passwordToggle:'.show-password-input',
          language:'en',
          onError: (error) => console.log(error),
          onLogin({ token }) { /*see below*/ }
});

```
Auto-registration when the account doesn't exist
As part of `/setOwnIDDataByLoginId` endpoint implementation

Establishing the session on `onLogin`

Direct:

```javascript

{ onLogin({ token }) { document.cookie = 
  `sessionId=${token}`; 
  } 
}

Exchange: [when session is an `http-only` cookie]
{ onLogin({ token }) 
  { fetch(`/auth/exchange?token=${token}`); } }
```
Setting a global login handler:
```javascript
ownid('init', { 
    onLogin: ({token}) => {}
})
```

<img
  src="/images/login-diagram.png"
  alt="Widget"
/>


Good



# Handler Reference

### IWidgetConfig

<ParamField query="type" type="WidgetType" default="none" required>
Defines widget type. Determinate flow type.
</ParamField>

<ParamField query="loginType" type="loginType" default="standard" >
Defines login type. Changes flow.

</ParamField>

<ParamField query="promptType" type="promptTypes" default="returning-user">
Used only for prompt widget. Defines prompt type
</ParamField>

<ParamField query="element" type="HTMLElement" default="returning-user">
Used only for prompt widget. Defines prompt type
</ParamField>








‚óè linkSocialAccount - is used ONLY for gigyas link-accounts screenset & integration








